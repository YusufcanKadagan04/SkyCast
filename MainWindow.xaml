<Window x:Class="SkyCast.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
        Title="Hava Durumu" Height="650" Width="1000"
        Background="Transparent"
        WindowStartupLocation="CenterScreen" WindowStyle="None" AllowsTransparency="True">

    <Border x:Name="MainBorder" CornerRadius="20">
        <Border.Background>
            <ImageBrush x:Name="bgImage" ImageSource="/Images/night.jpg" Stretch="UniformToFill"/>
        </Border.Background>

        <Grid>
            <Border Background="Black" CornerRadius="20" Opacity="0.4"/>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="60" />
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" Background="#202b3b" CornerRadius="20" Margin="10,15,0,15">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <StackPanel Grid.Row="0" Margin="0,50,0,0">
                            <StackPanel x:Name="btnWeather" 
                                        MouseLeftButtonDown="BtnWeather_MouseDown"
                                        Margin="0,0,0,40" 
                                        Cursor="Hand" 
                                        Background="Transparent">
                                <Image Source="/Images/weather.png" Width="25" HorizontalAlignment="Center" RenderOptions.BitmapScalingMode="HighQuality"/>
                                <TextBlock Text="Weather" FontSize="12" Foreground="White" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,8,0,0"/>
                            </StackPanel>

                            <StackPanel x:Name="btnCities" 
                                        MouseLeftButtonDown="BtnCities_MouseDown"
                                        Cursor="Hand" 
                                        Background="Transparent">
                                <Image Source="/Images/cities.png" Width="25" HorizontalAlignment="Center" RenderOptions.BitmapScalingMode="HighQuality"/>
                                <TextBlock Text="Cities" FontSize="12" Foreground="#808080" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,8,0,0"/>
                            </StackPanel>
                        </StackPanel>

                        <Grid Grid.Row="1" Margin="0,0,0,30">
                            <Image Source="/Images/user.png" Width="35" HorizontalAlignment="Center" RenderOptions.BitmapScalingMode="HighQuality"/>
                        </Grid>
                    </Grid>
                </Border>

                <Grid Grid.Column="1" Margin="20">

                    <Grid x:Name="WeatherView" Visibility="Visible">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <Border Grid.Row="0" Background="#202b3b" CornerRadius="15" Height="50" Margin="0,0,0,20">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <TextBox x:Name="txtSearch"
                                     Grid.Column="0"
                                     Tag="Search for cities..."
                                     Foreground="#c6c6c6"
                                     FontSize="14"
                                     FontWeight="Medium"
                                     VerticalAlignment="Center"
                                     Margin="10 0 0 0"
                                     BorderThickness="0"
                                     Background="Transparent"
                                     CaretBrush="White"
                                     KeyDown="txtSearch_KeyDown"/>

                                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,15,0">
                                    <Button Click="btnRefresh_Click" Background="Transparent" BorderThickness="0" Cursor="Hand" Margin="0,0,15,0">
                                        <TextBlock Text="🔄" Foreground="White" FontSize="18"/>
                                    </Button>
                                    <CheckBox x:Name="unitToggle" Click="UnitToggle_Click" Foreground="White" Content="°F" VerticalAlignment="Center" Cursor="Hand"/>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <Grid Grid.Row="1" Margin="0,20,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <Grid Grid.Column="0" Margin="0,0,20,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1.1*"/>
                                    <RowDefinition Height="1.3*"/>
                                    <RowDefinition Height="1.3*"/>
                                </Grid.RowDefinitions>

                                <Border Grid.Row="0" Background="#0b131e" CornerRadius="20" Margin="0,0,0,20">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.Column="0" VerticalAlignment="Center" Margin="20,0,0,0">
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock x:Name="txtCity" Text="İstanbul, Türkiye" FontSize="26" Foreground="White" FontWeight="Bold"/>
                                                <Button Click="btnFavorite_Click" Background="Transparent" BorderThickness="0" Margin="10,0,0,0" Cursor="Hand">
                                                    <TextBlock x:Name="txtStar" Text="☆" FontSize="24" Foreground="Gold"/>
                                                </Button>
                                            </StackPanel>
                                            <TextBlock x:Name="txtDate" Text="Tarih Bekleniyor..." FontSize="13" Foreground="LightGray" Margin="0,5,0,20"/>
                                            <TextBlock x:Name="txtTemperature" Text="0°C" FontSize="50" Foreground="White" FontWeight="Bold"/>
                                        </StackPanel>
                                        <Image Grid.Column="1" x:Name="imgMainWeather" Source="/Images/sun.png" Width="130" Height="130" HorizontalAlignment="Right" Margin="0,5,20,20"/>
                                    </Grid>
                                </Border>

                                <Border Grid.Row="1" Background="#202b3b" CornerRadius="20" Margin="0,0,0,20">
                                    <Grid Margin="15">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>
                                        <TextBlock Grid.Row="0" Text="24H TEMPERATURE TREND" Foreground="#808080" FontSize="12" FontWeight="Bold" Margin="0,0,0,5"/>

                                        <lvc:CartesianChart Grid.Row="1" 
                                                            Series="{Binding HourlySeries}" 
                                                            LegendLocation="None" 
                                                            Hoverable="True" 
                                                            Margin="0,10,0,0">
                                            <lvc:CartesianChart.AxisX>
                                                <lvc:Axis Labels="{Binding HourlyLabels}" Foreground="Gray" FontSize="10">
                                                    <lvc:Axis.Separator>
                                                        <lvc:Separator Step="1" StrokeThickness="0"/>
                                                    </lvc:Axis.Separator>
                                                </lvc:Axis>
                                            </lvc:CartesianChart.AxisX>
                                            <lvc:CartesianChart.AxisY>
                                                <lvc:Axis Visibility="Collapsed"/>
                                            </lvc:CartesianChart.AxisY>
                                        </lvc:CartesianChart>

                                    </Grid>
                                </Border>

                                <Border Grid.Row="3" Background="#202b3b" CornerRadius="20">
                                    <Grid Margin="20">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0" Margin="0,0,0,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Text="AIR CONDITIONS" Foreground="#808080" FontSize="12" FontWeight="Bold" VerticalAlignment="Center"/>
                                            <Border Grid.Column="1" Background="#0099FF" CornerRadius="10" Padding="7,3">
                                                <TextBlock Text="See more" Foreground="White" FontSize="10" FontWeight="Bold" VerticalAlignment="Center"/>
                                            </Border>
                                        </Grid>
                                        <Grid Grid.Row="1">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>
                                            <StackPanel Grid.Row="0" Grid.Column="0" VerticalAlignment="Center">
                                                <TextBlock Text="🌡️ Real Feel" Foreground="#808080" FontSize="14" Margin="0,10,0,5"/>
                                                <TextBlock x:Name="txtRealFeel" Text="-" Foreground="White" FontSize="20" FontWeight="Bold" Margin="20,0,0,20"/>
                                            </StackPanel>
                                            <StackPanel Grid.Row="0" Grid.Column="1" VerticalAlignment="Center">
                                                <TextBlock Text="💨 Wind" Foreground="#808080" FontSize="14" Margin="0,10,0,5"/>
                                                <TextBlock x:Name="txtWindSpeed" Text="-" Foreground="White" FontSize="20" FontWeight="Bold" Margin="20,0,0,20"/>
                                            </StackPanel>
                                            <StackPanel Grid.Row="1" Grid.Column="0" VerticalAlignment="Center">
                                                <TextBlock Text="💧 Humidity" Foreground="#808080" FontSize="14" Margin="0,10,0,5"/>
                                                <TextBlock x:Name="txtHumidity" Text="-" Foreground="White" FontSize="20" FontWeight="Bold" Margin="20,0,0,20"/>
                                            </StackPanel>
                                            <StackPanel Grid.Row="1" Grid.Column="1" VerticalAlignment="Center">
                                                <TextBlock Text="☀️ UV Index" Foreground="#808080" FontSize="14" Margin="0,10,0,5"/>
                                                <TextBlock x:Name="txtUVIndex" Text="Low" Foreground="White" FontSize="20" FontWeight="Bold" Margin="20,0,0,20"/>
                                            </StackPanel>
                                        </Grid>
                                    </Grid>
                                </Border>
                            </Grid>

                            <Border Grid.Column="1" Background="#202b3b" CornerRadius="20">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Grid Grid.Row="0" Margin="20,20,0,20">
                                        <TextBlock Text="7-DAY FORECAST" Foreground="#808080" FontSize="12" FontWeight="Bold"/>
                                    </Grid>
                                    <ItemsControl Grid.Row="1" x:Name="listDaysForecast">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Grid Margin="0,0,0,30">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="50"/>
                                                        <ColumnDefinition Width="70"/>
                                                        <ColumnDefinition Width="50"/>
                                                        <ColumnDefinition Width="90"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Grid.Column="0" Text="{Binding Day}" Foreground="#808080" FontSize="12" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                                    <Image Grid.Column="1" Source="{Binding IconPath}" Width="35" HorizontalAlignment="Right" VerticalAlignment="Top"/>
                                                    <TextBlock Grid.Column="2" Text="{Binding Status}" Foreground="White" FontSize="12" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                                                    <TextBlock Grid.Column="3" Margin="0,10,0,0" HorizontalAlignment="Center" FontSize="12">
                                                        <Run Text="{Binding MaxTemp}" Foreground="White" FontWeight="Bold"/>
                                                        <Run Text="/" Foreground="#A0A0A0"/>
                                                        <Run Text="{Binding MinTemp}" Foreground="#A0A0A0" FontWeight="Normal"/>
                                                    </TextBlock>
                                                </Grid>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </Grid>
                            </Border>
                        </Grid>
                    </Grid>

                    <Grid x:Name="CitiesView" Visibility="Collapsed">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Border Grid.Row="0" Background="#202b3b" CornerRadius="15" Height="45" Margin="0,0,0,20">
                                <TextBlock Text="Search for cities..." Foreground="Gray" VerticalAlignment="Center" Margin="20,0,0,0"/>
                            </Border>
                            <Grid Grid.Row="1" Margin="30,15,30,15">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.Row="0" Text="Favorite Cities" Foreground="White" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
                                <Border Grid.Row="1" BorderThickness="4" CornerRadius="20">
                                    <Border.BorderBrush>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#05090e" Offset="0.0"/>
                                            <GradientStop Color="#3a4b61" Offset="1.0"/>
                                        </LinearGradientBrush>
                                    </Border.BorderBrush>
                                    <Border.Background>
                                        <SolidColorBrush Color="#151e2b"/>
                                    </Border.Background>
                                    <ScrollViewer VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Disabled">
                                        <ItemsControl x:Name="listFavorites">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <WrapPanel Orientation="Horizontal" Margin="10"/>
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Border Width="230" Height="110" CornerRadius="20" Margin="10">
                                                        <Border.Background>
                                                            <ImageBrush ImageSource="{Binding BackgroundPath}" Stretch="UniformToFill"/>
                                                        </Border.Background>
                                                        <Grid>
                                                            <Border Background="Black" CornerRadius="20" Opacity="0.4"/>
                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <StackPanel VerticalAlignment="Center" Margin="15,0,0,0">
                                                                    <TextBlock Text="{Binding CityName}" Foreground="White" FontSize="18" FontWeight="Bold"/>
                                                                    <TextBlock Text="{Binding Status}" Foreground="White" FontSize="13" FontWeight="SemiBold" Margin="0,5,0,0"/>
                                                                </StackPanel>
                                                                <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="0,0,15,0">
                                                                    <TextBlock Text="{Binding Temperature}" Foreground="White" FontSize="32" FontWeight="Bold" HorizontalAlignment="Right"/>
                                                                    <Button Click="btnRemoveFavorite_Click" Tag="{Binding CityName}" Background="Transparent" BorderThickness="0" Cursor="Hand" HorizontalAlignment="Right">
                                                                        <TextBlock Text="🗑️" FontSize="12"/>
                                                                    </Button>
                                                                </StackPanel>
                                                            </Grid>
                                                        </Grid>
                                                    </Border>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </ScrollViewer>
                                </Border>
                            </Grid>
                        </Grid>
                    </Grid>

                </Grid>
            </Grid>
        </Grid>
    </Border>
</Window>